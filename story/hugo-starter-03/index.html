<!doctype html><html lang=zh-cn prefix="og: http://ogp.me/ns#"><head><title>Hugo 简明教程 03 - Untitled</title>
<meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1,minimal-ui,shrink-to-fit=no"><link rel=stylesheet href=https://bigfa.github.io/hugo-theme-notability/scss/app.min.45ead6a62476d633a9e4ca4bd7683d1335d25fc4ae9466f6b0e1fccccee64395.css integrity="sha256-RerWpiR21jOp5MpL12g9EzXSX8SulGb2sOH8zM7mQ5U=" media=screen><link type=image/vnd.microsoft.icon href=/hugo-theme-notability/images/favicon.png rel="shortcut icon"><meta property="og:title" content="Hugo 简明教程 03"><meta property="og:url" content="https://bigfa.github.io/hugo-theme-notability/story/hugo-starter-03/"><meta property="og:image" content><meta property="og:description" content><meta property="og:type" content="article"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image:src content><meta name=twitter:title content="Hugo 简明教程 03"><meta name=twitter:description content></head><body><script>window.DEFAULT_THEME="",localStorage.getItem("theme")==null&&localStorage.setItem("theme",window.DEFAULT_THEME),localStorage.getItem("theme")=="dark"&&document.querySelector("body").classList.add("dark"),localStorage.getItem("theme")=="auto"&&document.querySelector("body").classList.add("auto")</script><header class="metabar metabar--bordered"><div class="metabar--block layoutSingleColumn" itemprop=publisher itemscope itemtype=https://schema.org/Organization><h1 class=metabar--headline itemprop=logo itemscope itemtype=https://schema.org/ImageObject><a href=https://bigfa.github.io/hugo-theme-notability/ class=metabar--logo><img src=/hugo-theme-notability/images/logo.png class=metabar--logoImage width=38 height=47></a></h1><nav class=site--nav><a href=/hugo-theme-notability/movies/>书影音</a>
<a href=/hugo-theme-notability/cats/>分类</a>
<a href=/hugo-theme-notability/archive/>文章</a>
<a href=/hugo-theme-notability/topics/>标签</a>
<a href=/hugo-theme-notability/gears/>设备</a>
<a href=/hugo-theme-notability/about/>关于</a>
<a href=/hugo-theme-notability/friends/>链接</a></nav><svg class="menu--icon" width="1em" height="1em" viewBox="0 0 24 14" fill="currentcolor" aria-hidden="true"><line x1="24" y1="1" y2="1" stroke="currentcolor" stroke-width="2"/><line x1="24" y1="7" x2="4" y2="7" stroke="currentcolor" stroke-width="2"/><line x1="24" y1="13" x2="8" y2="13" stroke="currentcolor" stroke-width="2"/></svg></div></header><div class=mask></div><main class=main><div class="layoutSingleColumn u-paddingTop50 u-xs-paddingTop15 post--single" data-id=73a97236dc08b28423141cbfed00392f><h2 class=article--headline>Hugo 简明教程 03</h2><div class=article--meta><time datetime='2024-05-29 17:04:05' class=humane--time>2024-05-29 17:04:05</time>
<span class=dot></span>
<a href=/hugo-theme-notability/category/hugo/>Hugo</a>
<span class=dot></span>
<span class=article--views></span></div><details class=toc open><summary class=toc-title>目录</summary><nav id=TableOfContents><ul><li><a href=#archetype-原型>archetype 原型</a><ul><li><a href=#原型文件查找顺序>原型文件查找顺序</a></li></ul></li><li><a href=#markdown-文件>Markdown 文件</a><ul><li><a href=#layout>layout</a></li><li><a href=#menus>menus</a></li><li><a href=#params>params</a></li><li><a href=#slug>slug</a></li><li><a href=#url>url</a></li><li><a href=#draft>draft</a></li><li><a href=#weight>weight</a></li><li><a href=#kind>kind</a></li><li><a href=#cascade>Cascade</a></li></ul></li><li><a href=#_indexmd-文件>_index.md 文件</a></li></ul></nav></details><div class="content graph"><p>本文主要介绍原型（archetypes）和 markdown 文件的使用方法。</p><p>本系列文章均可参考我的 hugo
<a href=https://github.com/bigfa/bigfa.github.io target=_blank rel=noopener>博客项目</a>
，具体内容在里面均有体现。</p><h3 id=archetype-原型>archetype 原型</h3><p><code>archetype</code> 可以理解为模版，当使用 <code>hugo new content</code> 命令创建新文件的时候会根据一定的规则选择对应的模版，相当于文章的默认设置。默认是主题目录下下的<code>archetypes/default.md</code>，当然你的站点目录可能也有一个<code>archetypes</code>目录，这里面的模版的优先级是大于主题目录下的<code>archetypes</code>。</p><p>你可以为一个或多个内容类型创建一个原型（archetype）。如下，当创建 <code>posts</code>类型的时候会使用 <code>posts.md</code>，其他类型则会使用默认设置。</p><pre tabindex=0><code>hugo new content posts/my-first-post.md
</code></pre><p>文件结构</p><pre tabindex=0><code>archetypes/
├── default.md
└── posts.md
</code></pre><p>当你站点内容较为复杂的时候合理使用原型会更方便，如果只有一个文章类型，那么直接复制已有的 <code>markdown</code> 文件也足够了。</p><h4 id=原型文件查找顺序>原型文件查找顺序</h4><p>根目录下的原型优先级是最高的，爱折腾的同学可能有非常多的自定义设置，合理使用原型初始化更加方便。</p><ol><li>archetypes/posts.md</li><li>archetypes/default.md</li><li>themes/my-theme/archetypes/posts.md</li><li>themes/my-theme/archetypes/default.md</li></ol><p>原型中也有一些简单的表达式可以使用，如<code>.Date</code>，但是这个值是文件发创建时间，不等于文章发布时间，目前还没办法自动修改这个时间为发布时间。</p><h3 id=markdown-文件>Markdown 文件</h3><p>Hugo 以及绝大多数静态网页生成器都是 <code>markdown</code> 转 <code>html</code>，在文件数量不多的情况下各种程序没有任何区别，因为最后都是转为<code>html</code>文件。在文件多的时候不同程序可能构建速度不太一样，这里推荐大家单独管理图片文件，这样能大大提升构建速度。大量图片同时也意味着上传时间大大增加，所以不推荐直接把图片放在项目目录下。</p><p>Hugo 中 <code>markdwon</code> 文件简单来说可以分为两个部分，一部分是元数据，另一部分则为正文内容。位于每个内容文件顶部的前言部分是元数据，简单来讲可以理解为 wordpress 中的<code>wp_postmeta</code>，你可以在 <code>params</code> 参数中自定义各种类型的数据，然后在循环中通过<code>.Params</code>来调用。</p><p>除了<code>params</code>，hugo 内置了一些功能性的字段，下面是一个简单的例子。</p><pre tabindex=0><code>---
date: 2024-02-02T04:14:54-08:00
draft: false
params:
  author: John Smith
title: Example
weight: 10
layout: page
categories: [&#34;gears&#34;]
tags: [&#34;fujifilm&#34;]
---
</code></pre><p>标题、分类、标签、发布时间等比较好理解，下面单独介绍一下功能性参数。</p><h4 id=layout>layout</h4><p>提供一个模板名称来指定一个特定的模板，覆盖默认的模板查找顺序。将值设置为模板的基础文件名，不包括其扩展名。</p><h4 id=menus>menus</h4><p>如果设置了该值，Hugo 将页面添加到指定的菜单或多个菜单中，不需要在配置文件中的菜单设置中额外添加。</p><h4 id=params>params</h4><p>自定义参数，支持多个，值可以为数组，我站内的<code>goods</code>，<code>friends</code> 页面都是通过这里存储数据，强烈推荐使用本法而不是 <code>json</code> 文件存储数据。</p><h4 id=slug>slug</h4><p>如果站点 url 配置中设置了读取 slug 规则，则会调用该值，注意如果你没有设置 slug 参数，那么 hugo url 规则配置中不要使用<code>:slug</code>，否则会造成 url 错误。</p><h4 id=url>url</h4><p>直接忽略站点配置规则，页面 url 将会直接使用这个值，适合重新自定义归档页的 url。</p><h4 id=draft>draft</h4><p>草稿，直接开发模式才会渲染。</p><h4 id=weight>weight</h4><p>权重，可以用来设置置顶文章。</p><h4 id=kind>kind</h4><p>可以指定<code>section</code>，一般没必要使用。除非你所有文件都在同一目录下。</p><h4 id=cascade>Cascade</h4><p>这个字段还是比较难理解的，我研究了一下，用白话讲就是可以给子文章设置 params 默认值，当子文章没有设置的时候就会调用改值，<strong>实际测试发现用这个字段设置的默认值只能在详情页使用，循环中是无法调用的</strong>。</p><p>举例：<code>content/posts/_index.md</code></p><pre tabindex=0><code>---
cascade:
  params:
    cover: images/richisgood.jpg
date: 2024-02-01T21:25:36-08:00
title: Posts
---
</code></pre><p>当在详情页中调用<code>.Params.banner</code>，则会返回 <code>images/richisgood.jpg</code>，以下情况则不会返回。</p><ul><li>markdown 文件本身设置了 banner 参数</li><li>更近的节点设置了 cascade.banner</li></ul><p>还有注意的是当 cover 是空的时候仍然不会返回默认值，只有将 cover 字段删掉才会返回默认值。</p><h3 id=_indexmd-文件>_index.md 文件</h3><p><code>_index.md</code> 是非常有用的一个文件，此文件可以理解为动态 CMS 里数据库的一行内容，可以保存很多信息来自定义条目。比如分类<code>categories/zine/_index.md</code> 可以理解为数据库中<code>zine</code>分类的一行。在主题<code>layout/categories/term.html</code> 这个文件中读取<code>_index.md</code> 储存的自定义信息。比如可通过 <code>layout</code> 字段为不同分类设置不同样式的模版。</p><p><code>categories/_index.md</code> 则可自定义分类归档页的信息如标题副标题等，结合上一篇教程，我们可以为每个<code>section</code> 创建一个<code>_index.md</code>，官方也是这样推荐的。</p><p>对于普通成品主题使用者，不太需要考虑和主题文件对应的问题，只需要作为保存自定义信息即可，比如为中文分类名自定义英文 url slug。高端用法如<code>layout</code>和<code>params</code> 需要你熟悉 Hugo 主题文件的调用逻辑。</p></div><div class=post--single__action><button class="button--like like-btn" aria-label="like the post">
<svg class="icon--active" viewBox="0 0 1024 1024" width="32" height="32"><path d="M780.8 204.8c-83.2-44.8-179.2-19.2-243.2 44.8L512 275.2l-25.6-25.6c-64-64-166.4-83.2-243.2-44.8-134.4 70.4-153.6 236.8-57.6 332.8l32 32 153.6 153.6 102.4 102.4c25.6 25.6 57.6 25.6 83.2.0l102.4-102.4 153.6-153.6 32-32C934.4 441.6 915.2 275.2 780.8 204.8z"/></svg>
<svg class="icon--default" viewBox="0 0 1024 1024" width="32" height="32"><path d="M332.8 249.6c38.4.0 83.2 19.2 108.8 44.8L467.2 320 512 364.8 556.8 320l25.6-25.6c32-32 70.4-44.8 108.8-44.8 19.2.0 38.4 6.4 57.6 12.8 44.8 25.6 70.4 57.6 76.8 108.8 6.4 44.8-6.4 89.6-38.4 121.6L512 774.4 236.8 492.8c-32-32-51.2-76.8-44.8-121.6s38.4-83.2 76.8-108.8C288 256 313.6 249.6 332.8 249.6m0-64C300.8 185.6 268.8 192 243.2 204.8 108.8 275.2 89.6 441.6 185.6 537.6l281.6 281.6C480 832 499.2 838.4 512 838.4s32-6.4 38.4-19.2L832 537.6c96-96 76.8-262.4-57.6-332.8-25.6-12.8-57.6-19.2-89.6-19.2-57.6.0-115.2 25.6-153.6 64L512 275.2l-25.6-25.6c-38.4-38.4-96-64-153.6-64z"/></svg>
<span class=count></span></button></div><div class="article--tags u-paddingTop20"></div><div class=postCat--item><img src=https://static.fatesinger.com/2023/06/u1ak8xgmyn9ec24r.png class=cover><div class=postCat--content><a href=/hugo-theme-notability/category/hugo/ class=artile--category>Hugo</a><p>The world’s fastest framework for building websites.(I don't believe it)</p></div></div><div class=related--content><h3>相关文章</h3><ul><li><a href=/hugo-theme-notability/story/iphone16pro/>iPhone 16 Pro eSIM 使用体验</a></li><li><a href=/hugo-theme-notability/story/maijishan/>麦积山仿古</a></li><li><a href=/hugo-theme-notability/story/jiuzhaigou/>九寨沟</a></li><li><a href=/hugo-theme-notability/story/xuhui-citywalk/>梧桐区 City Walk</a></li><li><a href=/hugo-theme-notability/story/gr-3x/>RICOH GR IIIx Urban Editon</a></li></ul></div><div class=post--ingle__comments data-id=73a97236dc08b28423141cbfed00392f><div id=comments class=responsesWrapper><h3 class=comments--title><svg viewBox="0 0 24 24" class="icon" aria-hidden="true" width="16" height="16"><g><path d="M1.751 10c0-4.42 3.584-8 8.005-8h4.366c4.49.0 8.129 3.64 8.129 8.13.0 2.96-1.607 5.68-4.196 7.11l-8.054 4.46v-3.69h-.067c-4.49.1-8.183-3.51-8.183-8.01zm8.005-6c-3.317.0-6.005 2.69-6.005 6 0 3.37 2.77 6.08 6.138 6.01l.351-.01h1.761v2.3l5.087-2.81c1.951-1.08 3.163-3.13 3.163-5.36.0-3.39-2.744-6.13-6.129-6.13H9.756z"/></g></svg><span class=count></span></h3><ol class="commentlist sulliComment--list"></ol><nav class="commentnav u-textAlignCenter"></nav><div id=respond class=comment-respond><h3 id=reply-title class=comment-reply-title>发表回复 <small><a rel=nofollow id=cancel-comment-reply-link href=/39#respond style=display:none>取消回复</a></small></h3><form method=post id=commentform class=comment-form novalidate><p class=comment-notes><span id=email-notes>您的电子邮箱地址不会被公开。</span> <span class=required-field-message>必填项已用<span class=required>*</span>标注</span></p><p class=comment-form-author><label for=author>显示名称 <span class=required>*</span></label> <input id=author name=comment_author_name type=text size=30 maxlength=245 autocomplete=name required></p><p class=comment-form-email><label for=email>电子邮箱地址 <span class=required>*</span></label> <input id=email name=comment_author_email type=email size=30 maxlength=100 aria-describedby=email-notes autocomplete=email required></p><p class=comment-form-url><label for=url>网站地址</label> <input id=url name=url type=url size=30 maxlength=200 autocomplete=url></p><p class=comment-form-comment><label for=comment>评论 <span class=required>*</span></label>
<textarea id=comment name=comment_content cols=45 rows=8 maxlength=65525 required></textarea></p><p class=form-submit><input name=submit type=submit id=submit class=submit value=发表评论>
<input type=hidden name=post_id value=73a97236dc08b28423141cbfed00392f id=comment_post_ID>
<input type=hidden name=comment_parent id=comment_parent></p></form></div></div></div></div></main><footer class=site--footer><div class=layoutSingleColumn><div class=copyright>Theme by <a href=https://fatesinger.com/74850 target=_blank>bigfa</a>
© 版权所有
2024</div></div></footer><div class=backToTop><svg class="svgIcon" viewBox="0 0 14 14" fill="currentcolor" aria-hidden="true"><path d="M7.50015.425011C7.42998.354396 7.34632.298622 7.25415.261011c-.18314-.074008-.38786-.074008-.571.0C6.59128.298643 6.50795.354423 6.43815.425011L.728147 6.13201c-.13248.14218-.204603.33022-.201175.52452C.530401 6.85084.609113 7.03622.746526 7.17363c.137413.13742.322794.21613.517094.21956C1.45793 7.39661 1.64597 7.32449 1.78815 7.19201l4.428-4.427V13.024C6.21615 13.2229 6.29517 13.4137 6.43582 13.5543 6.57647 13.695 6.76724 13.774 6.96615 13.774 7.16506 13.774 7.35583 13.695 7.49648 13.5543 7.63713 13.4137 7.71615 13.2229 7.71615 13.024V2.76501l4.42795 4.427c.1427.13666.3325.21296.529999999999999.21296C12.8717 7.40497 13.0615 7.32867 13.2041 7.19201 13.3444 7.05126 13.4231 6.86068 13.4231 6.66201 13.4231 6.46334 13.3444 6.27277 13.2041 6.13201L7.50015.425011z"/></svg></div><script type=text/javascript>window.WPD_TOKEN="",window.commentDomain="https://fatesinger.com/__api/v1",window.actionDomain="https://v.wpista.com/",window.viewText=" 次浏览",window.dbAPIBase="https://dbapi.wpista.com/",window.noComment="还没有评论",window.zoom="true"</script><script type=text/javascript>window.timeFormat={second:"秒前",seconds:"秒前",minute:"",minutes:"",hour:"小时前",hours:"小时前",day:"天前",days:"天前",month:"月前",months:"月前"}</script><script type=text/javascript src=/hugo-theme-notability/ts/bundle.js defer></script></body></html>